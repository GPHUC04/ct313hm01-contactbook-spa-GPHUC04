import{_ as f,e as s,c as r,a as h,d as c,f as _,t as C,g,u as v,o as i,m as k}from"./index-CC7uckQd.js";import{C as y}from"./ContactForm-Ifo_F8wH.js";const V={class:"page"},b={key:0,class:"alert alert-info mt-3"},w={__name:"ContactAdd",setup(x){const n=v(),e=s(""),l=k(),m=s({name:"",email:"",address:"",phone:"",favorite:!1,avatar:"/public/images/blank-profile-picture.png"});async function d(a){try{if(console.log("Contact data to create:",a),!Array.from(a.entries()).some(([S,o])=>o&&(typeof o=="string"?o.trim()!=="":!0)))throw new Error("Vui lòng điền ít nhất một trường (name, email, address, phone).");const p=await l.createContact(a);e.value="Liên hệ được tạo thành công.",setTimeout(()=>{n.push({name:"contact.edit",params:{id:p.id}})},2e3)}catch(t){console.error("Error creating contact:",t.message),e.value=`Có lỗi xảy ra khi tạo liên hệ: ${t.message}`}}function u(){n.push({name:"contactbook"})}return(a,t)=>(i(),r("div",V,[t[0]||(t[0]=h("h4",null,"Thêm Liên hệ mới",-1)),c(y,{contact:m.value,"is-add-mode":!0,"onSubmit:contact":d,"onCancel:contact":u},null,8,["contact"]),e.value?(i(),r("p",b,C(e.value),1)):_("",!0),c(g)]))}},E=f(w,[["__scopeId","data-v-65f850fa"]]);export{E as default};
